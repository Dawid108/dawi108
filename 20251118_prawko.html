<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Test na Prawo Jazdy</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f2f2f2;
        margin: 0;
        padding: 0;
        text-align: center;
    }

    .top-bar {
        display: flex;
        justify-content: space-between;
        padding: 15px 20px;
        font-size: 22px;
        font-weight: bold;
        background: white;
        border-bottom: 2px solid #ddd;
    }

    #image {
        width: 80%;
        max-width: 600px;
        aspect-ratio: 16/9;
        object-fit: cover;
        margin-top: 20px;
        border-radius: 10px;
        border: 2px solid #ccc;
    }

    #question {
        font-size: 22px;
        margin: 20px 0;
        padding: 0 10px;
    }

    .buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
    }

    button {
        background: #b5b5b5;
        border: none;
        padding: 15px 40px;
        font-size: 22px;
        border-radius: 10px;
        cursor: pointer;
        color: white;
        transition: 0.3s;
    }

    button:hover {
        background: #9d9d9d;
    }

    .correct {
        background: #4caf50 !important;
    }

    .wrong {
        background: #e53935 !important;
    }

    #endScreen {
        margin-top: 40px;
        font-size: 32px;
        font-weight: bold;
    }

    #restart {
        margin-top: 20px;
        padding: 15px 30px;
        font-size: 26px;
        background: #6b6b6b;
        border-radius: 10px;
    }
</style>
</head>
<body>

<div class="top-bar">
    <div>Życia: <span id="lives">3</span></div>
    <div>Punkty: <span id="points">0</span></div>
</div>

<img id="image" src="">

<div id="question"></div>

<div class="buttons">
    <button id="yesBtn">Tak</button>
    <button id="noBtn">Nie</button>
</div>

<div id="endScreen"></div>

<script>
const questions = [
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763495166/1-5_ypo41b.png", 
        q: "Czy za tym znakiem należy spodziewać się trzech niebezpiecznych zakrętów, z których wszystkie mogą być w lewo?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763495329/1-70_bjkjsy.png",
        q: "Czy umieszczona pod widocznym znakiem ostrzegawczym tabliczka wskazuje nieoczekiwaną zmianę kierunku ruchu?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763495483/1-84_iur6cd.png",
        q: "Czy w tej sytuacji zbliżasz się do skrzyżowania dróg, na którym pierwszeństwo jest ustalone znakami drogowymi?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763495576/1-113_wsqlaj.png",
        q: "Czy w przedstawionej sytuacji jesteś ostrzegany o poprzecznej nierówności jezdni spowodowanej ubytkami nawierzchni?",
        correct: "nie"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763495717/1-114_pbtje4.png",
        q: "Czy w przedstawionej sytuacji jesteś ostrzegany o wypukłości jezdni zastosowanej w celu spowolnienia ruchu?",
        correct: "nie"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763495863/1-116_rlxbjt.png",
        q: "Czy w przedstawionej sytuacji, wjeżdżając na pobocze, powinieneś zrobić to ostrożnie i znacznie zmniejszyć prędkość?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763495920/1-117_fzx73y.png",
        q: "Czy w przedstawionej sytuacji odległość od znaku ostrzegawczego do miejsca niebezpiecznego wynosi do 100 metrów?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496028/2-11_iviylu.png",
        q: "Czy przewożąc osobę niepełnosprawną legitymującą się kartą parkingową możesz, pod warunkiem zachowania szczególnej ostrożności, nie stosować się do przedstawionego znaku zakazu ?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496215/2-15_uksm7i.png",
        q: "Czy ten znak poziomy wyznacza pas postojowy?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496364/2-26_upxyds.png",
        q: "Czy w tej sytuacji zatrzymanie pojazdu, w celu ustąpienia pierwszeństwa, powinno nastąpić każdorazowo przed znakiem „STOP”?",
        correct: "nie"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496445/2-37_jjqitz.png",
        q: "Czy zakaz wyrażony umieszczonym z prawej strony jezdni znakiem pionowym obowiązuje od miejsca jego ustawienia do najbliższego skrzyżowania włącznie?",
        correct: "nie"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496514/2-41_al8n4q.png",
        q: "Czy widoczny znak zakazu zabrania skręcania w lewo na skrzyżowaniu?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496595/2-65_wac0b2.png",
        q: "Czy osoba niepełnosprawna kierująca samochodem osobowym, legitymująca się kartą parkingową, może nie stosować się do widocznego znaku zakazu?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496670/2-70_jtjdpv.png",
        q: "Czy zakaz wyrażony tym znakiem obowiązuje za najbliższym skrzyżowaniem?",
        correct: "nie"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496774/2-83_r2snir.png",
        q: "Czy w przedstawionej sytuacji możesz zatrzymać pojazd za znakiem na poboczu?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496833/2-87_vno7xq.png",
        q: "Czy zakaz określony tym znakiem obowiązuje Cię do najbliższego skrzyżowania?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496914/2-88_z6fjs3.png",
        q: "Czy w przedstawionej sytuacji umieszczona pod znakiem tabliczka wskazuje odległość znaku od miejsca, w którym masz obowiązek zatrzymania się?",
        correct: "tak"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763496992/2-89_ifxiz3.png",
        q: "Czy widoczny znak zakazu dotyczy tylko chodnika?",
        correct: "nie"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763497060/2-93_mkcrsj.png",
        q: "Czy ograniczenie prędkości określone tym znakiem obowiązuje tylko do najbliższego skrzyżowania?",
        correct: "nie"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763497169/2-97_x6pygt.png",
        q: "Czy w tej sytuacji jesteś informowany, że poruszasz się drogą jednokierunkową?",
        correct: "nie"
    },
    {
        img: "https://res.cloudinary.com/diljpkw9f/image/upload/v1763497793/2-114_eootga.png",
        q: "Czy ten znak zakazu umieszczony w obrębie skrzyżowania dotyczy tylko jezdni, przy której jest ustawiony?",
        correct: "tak"
    }
];

let shuffledQuestions = [];
let index = 0;
let lives = 3;
let points = 0;
let answering = true;

const imgEl = document.getElementById("image");
const qEl = document.getElementById("question");
const livesEl = document.getElementById("lives");
const pointsEl = document.getElementById("points");
const endScreen = document.getElementById("endScreen");

const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");

function startGame() {
    lives = 3;
    points = 0;
    index = 0;
    answering = true;
    endScreen.innerHTML = "";
    yesBtn.style.display = "inline-block";
    noBtn.style.display = "inline-block";

    livesEl.textContent = lives;
    pointsEl.textContent = points;

    shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
    loadQuestion();
}

function loadQuestion() {
    const q = shuffledQuestions[index];
    imgEl.src = q.img;
    qEl.textContent = q.q;

    yesBtn.classList.remove("correct", "wrong");
    noBtn.classList.remove("correct", "wrong");

    answering = true;
}

function checkAnswer(ans) {
    if (!answering) return;
    answering = false;

    const correct = shuffledQuestions[index].correct;

    if (ans === correct) {
        points++;
        pointsEl.textContent = points;
        if (ans === "tak") yesBtn.classList.add("correct");
        else noBtn.classList.add("correct");

        setTimeout(nextQuestion, 800);
    } else {
        lives--;
        livesEl.textContent = lives;

        if (ans === "tak") yesBtn.classList.add("wrong");
        else noBtn.classList.add("wrong");

        if (correct === "tak") yesBtn.classList.add("correct");
        else noBtn.classList.add("correct");

        setTimeout(() => {
            if (lives === 0) return loseGame();
            nextQuestion();
        }, 3000);
    }
}

function nextQuestion() {
    index++;
    if (index >= shuffledQuestions.length) {
        winGame();
        return;
    }
    loadQuestion();
}

function loseGame() {
    yesBtn.style.display = "none";
    noBtn.style.display = "none";
    endScreen.innerHTML = `Przegrałeś<br><button id="restart" onclick="startGame()">Nowa Gra</button>`;
}

function winGame() {
    yesBtn.style.display = "none";
    noBtn.style.display = "none";
    endScreen.innerHTML = `Wygrałeś!<br><button id="restart" onclick="startGame()">Nowa Gra</button>`;
}

yesBtn.onclick = () => checkAnswer("tak");
noBtn.onclick = () => checkAnswer("nie");

startGame();
</script>

</body>
</html>
