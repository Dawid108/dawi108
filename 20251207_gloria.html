<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gloria Victis - Eliza Orzeszkowa</title>
<style>
body{
background:#0d102b;
color:white;
font-family:Arial;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
margin:0;
}
#game, #endScreen{
width:90%; max-width:500px;
background:#13173d;
padding:20px;
border-radius:20px;
text-align:center;
box-shadow:0 0 20px #0006;
}
.category{font-size:18px;margin-bottom:10px;color:#7dd7ff;}
.question{font-size:20px;margin-bottom:20px;}
.btn{background:#1c2257;padding:12px;border-radius:10px;margin:10px 0;cursor:pointer;transition:.2s;}
.btn:hover{background:#27307a;}
.correct{background:#1fa84f !important;}
.wrong{background:#c62828 !important;}
#stats{display:flex;justify-content:space-between;margin-bottom:20px;color:#9bbcff;}
#counter{margin-top:10px;color:#9bbcff;}
.hidden{display:none;}
#endScreen button{margin-top:15px;background:#6f85ff;padding:10px 20px;border:none;border-radius:10px;color:white;font-size:18px;cursor:pointer;}
</style>
</head>
<body>

<div id="game">
    <div id="stats">
        <div>Życia: <span id="life">10</span></div>
        <div>Punkty: <span id="score">0</span></div>
    </div>
    <div class="category" id="category"></div>
    <div class="question" id="question"></div>
    <div id="answers"></div>
    <div id="counter"></div>
</div>

<div id="endScreen" class="hidden">
    <h2 id="endTitle"></h2>
    <p>Twój wynik: <span id="finalScore"></span></p>
    <p>Twój rekord: <span id="record"></span></p>
    <p>Suma punktów: <span id="dawid108"></span></p>
    <button onclick="newGame()">Nowa Gra</button>
</div>

<script>
// PYTANIA
let questions = [
{cat:"Gloria Victis", q:"Co oznacza tytuł \"Gloria Victis\"?", a:"Chwała zwyciężonym", b:"Upadek bohaterów", c:"Zwycięstwo armii", d:"Klęskę moralną"},
  {cat:"Gloria Victis", q:"Kiedy toczyła się akcja noweli?", a:"50 lat po Powstaniu styczniowym", b:"30 lat po wojnach napoleońskich", c:"60 lat po bitwie pod Grunwaldem", d:"40 lat po powstaniu listopadowym"},

{cat:"Gloria Victis", q:"Kiedy dzieje się opowiadana w noweli historia?", a:"W czasie powstania styczniowego", b:"W czasie powstania listopadowego", c:"W trakcie zaboru pruskiego", d:"W okresie międzywojennym"},

{cat:"Gloria Victis", q:"Jakie jest miejsce akcji noweli?", a:"Las na Polesiu litewskim", b:"Puszcza w okolicach Mazowsza", c:"Las w pobliżu Podlasia", d:"Zagajnik na ziemiach lubelskich"},

{cat:"Gloria Victis", q:"Jaki charakter ma narracja w noweli?", a:"Baśniowy", b:"Dramatyczny", c:"Historyczny", d:"Reporterski"},

{cat:"Gloria Victis", q:"Kto opowiada o wydarzeniach z powstania?", a:"Drzewa: dąb, świerk i brzoza", b:"Kamienie i pnie leśne", c:"Ptaki i zwierzęta polne", d:"Chmury i mgły okoliczne"},

{cat:"Gloria Victis", q:"Kto słucha opowieści drzew?", a:"Wiatr", b:"Strumień", c:"Chmura", d:"Echo"},

{cat:"Gloria Victis", q:"Kim był Romuald Traugutt?", a:"Dowódcą powstania", b:"Posłańcem królewskim", c:"Szlachcicem z Galicji", d:"Zwykłym leśniczym"},

{cat:"Gloria Victis", q:"Kim był Jagmin?", a:"Dzielnym powstańcem i przyjacielem Mariana", b:"Zamożnym kupcem z Wilna", c:"Wędrownym pisarzem z Kresów", d:"Strażnikiem królewskiej straży"},

{cat:"Gloria Victis", q:"Kim był Marian Tarłowski?", a:"Dzielnym powstańcem i bratem Anieli", b:"Ubogim chłopcem ze wsi", c:"Nauczycielem z pobliskiej wioski", d:"Młodym poetą z Warszawy"},

{cat:"Gloria Victis", q:"Kim była Aniela Tarłowska?", a:"Młodszą siostrą Mariana i ukochaną Jagmina", b:"Panną dworską z małego miasteczka", c:"Córką przywódcy rosyjskiego", d:"Dziewczyną mieszkającą w Wilnie"},

{cat:"Gloria Victis", q:"Kto jako pierwszy przybył do lasu w opowieści?", a:"Wiatr", b:"Wędrowiec", c:"Myśliwy", d:"Starzec"},

{cat:"Gloria Victis", q:"Co zauważył Wiatr po przybyciu do lasu?", a:"Kopiec z drewnianym krzyżem wbitym w niego", b:"Drogę porośniętą paprociami i mchami", c:"Stare obozowisko otoczone liśćmi", d:"Ruiny drewnianej strażnicy"},

{cat:"Gloria Victis", q:"Do kogo porównany był Jagmin przez drzewa?", a:"Do Herkulesa", b:"Do Odyseusza", c:"Do Achillesa", d:"Do Beowulfa"},

{cat:"Gloria Victis", q:"Co zrobił oddział, który dotarł do lasu?", a:"Rozbił obóz", b:"Zbudował prowizoryczną wieżę", c:"Wyczyścił teren z gałęzi", d:"Oznaczył szlak dla posiłków"},

{cat:"Gloria Victis", q:"Kto stał na czele przybyłego oddziału?", a:"Romuald Traugutt", b:"Ignacy Chmielewski", c:"Marcin z Węgrowa", d:"Stefan Jarociński"},

{cat:"Gloria Victis", q:"Do kogo pojawiło się uczucie Jagmina?", a:"Do Anieli", b:"Do Heleny", c:"Do Zofii", d:"Do Marii"},

{cat:"Gloria Victis", q:"Co ma nastąpić za 10 dni według opowieści?", a:"Mobilizacja", b:"Zgromadzenie wojskowe", c:"Wymarsz patroli", d:"Rozkaz odwrotu"},

{cat:"Gloria Victis", q:"Kto chce wziąć udział w mobilizacji?", a:"Jagmin i Maryś", b:"Aniela i Kaliksta", c:"Dąb i Brzoza", d:"Leśnicy z okolicy"},

{cat:"Gloria Victis", q:"Co wygłasza Traugutt przed oddziałem?", a:"Mowę pobudzającą do walki", b:"Rozkaz budowy umocnień", c:"Polecenie odwrotu z lasu", d:"Apel o złożenie broni"},

{cat:"Gloria Victis", q:"Co wydarzyło się podczas jednego z pojedynków?", a:"Maryś ratuje życie Trauguttowi", b:"Jagmin traci broń w walce", c:"Wróg odbiera im dowódcę", d:"Oddział zostaje rozproszony"},

{cat:"Gloria Victis", q:"O czym rozmawiali Jagmin i Maryś przed bitwą?", a:"O konieczności walki", b:"O planach powrotu do domu", c:"O budowie nowego obozu", d:"O przeniesieniu rannych żołnierzy"},

{cat:"Gloria Victis", q:"Kto przybywa do obozu powstańców?", a:"Poseł Kaliksta", b:"Nieznany kupiec", c:"Ranny żołnierz", d:"Gość z Warszawy"},

{cat:"Gloria Victis", q:"O czym informuje przybyły Kaliksta?", a:"O zmierzających oddziałach rosyjskich z wielką przewagą", b:"O nadciągającej głodowej zimie w okolicy", c:"O możliwej pomocy szlacheckiej", d:"O zdobyciu broni przez włościan"},

{cat:"Gloria Victis", q:"Kto został trafiony kulą i przeniesiony do namiotu z rannymi?", a:"Maryś", b:"Traugutt", c:"Poseł", d:"Dowódca zwiadu"},

{cat:"Gloria Victis", q:"Co zrobili Rosjanie po przedarciu się do obozu?", a:"Wtargnęli do namiotu i dobili rannych", b:"Odcięli drogę odwrotu oddziałowi", c:"Zabrali konie powstańcom", d:"Zniszczyli część broni i zapasów"},

{cat:"Gloria Victis", q:"Kto umiera podczas końcowych wydarzeń noweli?", a:"Jagmin i Maryś", b:"Traugutt i Kaliksta", c:"Aniela i Maryś", d:"Brzoza i Świerk"},

{cat:"Gloria Victis", q:"Komu Jagmin miał przekazać chusteczkę od Marysia?", a:"Anieli", b:"Matce powstańców", c:"Siostrze posła", d:"Żonie dowódcy"},

{cat:"Gloria Victis", q:"Co zrobiła Aniela na miejscu bitwy?", a:"Wbiła krzyż dla oddania hołdu powstańcom", b:"Pozostawiła wiązankę świeżych kwiatów", c:"Ułożyła dłonie rannym żołnierzom", d:"Zebrała resztki porzuconej broni"},

{cat:"Gloria Victis", q:"Z czym nie zgadza się wiatr, słysząc opowieść drzew?", a:"Z hasłem 'vae victis' i głosi 'Gloria victis'", b:"Z opisem samej bitwy pod lasem", c:"Z oceną odwagi powstańców", d:"Z osądem czynów Traugutta"},

{cat:"Gloria Victis", q:"Co oznacza hasło 'vae victis'?", a:"Biada zwyciężonym", b:"Chwała bohaterom", c:"Zwycięstwo nad wrogiem", d:"Cześć pokonanym"},

{cat:"Gloria Victis", q:"Co oznacza hasło 'Gloria victis'?", a:"Chwała zwyciężonym", b:"Potęga walczących", c:"Zwycięstwo do końca", d:"Pamięć o bohaterach"}
];

let current = 0;
let life = 10;
let score = 0;
let used = [];
let maxQ = questions.length;
let record = localStorage.getItem("pozytywizm3") || 0;
let dawid108 = localStorage.getItem("dawid108") || 0;

function newGame(){
    life = 10; score = 0; used = [];
    document.getElementById("endScreen").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");
    updateStats();
    nextQuestion();
}

function updateStats(){
    document.getElementById("life").innerText = life;
    document.getElementById("score").innerText = score;
}

function nextQuestion(){
    if(used.length === maxQ){ return win(); }

    let id;
    do{ id = Math.floor(Math.random()*maxQ); }
    while(used.includes(id));

    used.push(id);
    current = questions[id];

    document.getElementById("category").innerText = current.cat;
    document.getElementById("question").innerText = current.q;

    document.getElementById("counter").innerText = "Pytanie " + used.length + " / " + maxQ;

    // Mieszanie odpowiedzi
    let arr = [
        {txt: current.a, correct: true},
        {txt: current.b, correct: false},
        {txt: current.c, correct: false},
        {txt: current.d, correct: false}
    ];
    arr.sort(()=>Math.random()-0.5);

    let ansDiv = document.getElementById("answers");
    ansDiv.innerHTML = "";

    arr.forEach(a=>{
        let btn = document.createElement("div");
        btn.classList.add("btn");
        btn.innerText = a.txt;
        btn.onclick = ()=>answer(a.correct, btn);
        ansDiv.appendChild(btn);
    });
}

function answer(correct, btn){
    let buttons = document.querySelectorAll(".btn");
    buttons.forEach(b=>b.style.pointerEvents="none");

    if(correct){
        btn.classList.add("correct");
        score++;
        dawid108++;
        localStorage.setItem("dawid108", dawid108);
        console.log("dawid108:", dawid108);
        updateStats();
        setTimeout(()=>nextQuestion(), 300);
    }else{
        btn.classList.add("wrong");
        // pokaż poprawną
        buttons.forEach(b=>{
            if(b.innerText === current.a) b.classList.add("correct");
        });
        life--;
        updateStats();
        if(life <= 0){ setTimeout(()=>gameOver(), 2000); }
        else{ setTimeout(()=>nextQuestion(), 3000); }
    }
}

function win(){
    document.getElementById("game").classList.add("hidden");
    document.getElementById("endScreen").classList.remove("hidden");
    document.getElementById("endTitle").innerText = "Wygrałeś!";
    endScreen();
}

function gameOver(){
    document.getElementById("game").classList.add("hidden");
    document.getElementById("endScreen").classList.remove("hidden");
    document.getElementById("endTitle").innerText = "Koniec gry";
    endScreen();
}

function endScreen(){
    document.getElementById("finalScore").innerText = score;

    if(score > record){
        record = score;
        localStorage.setItem("pozytywizm3", record);
    }

    document.getElementById("record").innerText = record;
    document.getElementById("dawid108").innerText = dawid108;
}

newGame();
</script>
</body>
</html>
