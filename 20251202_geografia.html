<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test Geografia</title>
<style>
    body {
        background: linear-gradient(135deg, #1e3c72, #2a5298);
        font-family: 'Segoe UI', sans-serif;
        color: #fff;
        text-align: center;
        margin: 0;
        padding: 0;
    }
    .container {
        max-width: 700px;
        background: rgba(0,0,0,0.3);
        padding: 30px;
        margin: 60px auto;
        border-radius: 20px;
        box-shadow: 0 0 25px rgba(0,0,0,0.5);
    }
    h1 {
        margin-bottom: 20px;
        font-size: 32px;
        letter-spacing: 1px;
    }
    .question {
        font-size: 20px;
        margin-bottom: 25px;
    }
    .answers button {
        display: block;
        width: 100%;
        background: #ffffff22;
        border: 2px solid #fff;
        color: #fff;
        padding: 12px;
        margin: 10px 0;
        border-radius: 10px;
        cursor: pointer;
        transition: 0.3s;
        font-size: 17px;
    }
    .answers button:hover {
        background: #ffffff44;
    }
    .info {
        margin-top: 20px;
        font-size: 18px;
    }
    .result {
        font-size: 28px;
        margin: 25px 0;
        font-weight: bold;
    }
    #restart {
        background: #00c853;
        border: none;
        padding: 15px 25px;
        color: white;
        border-radius: 10px;
        font-size: 18px;
        cursor: pointer;
        transition: 0.3s;
    }
    #restart:hover {
        background: #00e676;
    }
</style>
</head>
<body>
<div class="container">
    <h1>Geografia Rolnictwo</h1>
    <div id="quiz-area">
        <div class="question" id="question"></div>
        <div class="answers" id="answers"></div>
        <div class="info" id="progress"></div>
        <div class="info" id="lives"></div>
    </div>
    <div class="result" id="result"></div>
    <button id="restart" style="display:none;">Zagraj ponownie</button>
</div>

<script>
// ===================== DANE PYTA≈É =======================
const questions = [
{q:"Kt√≥ry czynnik rolnictwa jest zwiƒÖzany z klimatem?", a:["Temperatura","Typ gleby","Ukszta≈Çtowanie terenu","Rodzaj maszyn"], correct:0},
{q:"Kt√≥ry czynnik rolnictwa zale≈ºy od klimatu?", a:["Opady","Zasobno≈õƒá minera≈Ç√≥w","Cena paliwa","Rodzaj nawoz√≥w"], correct:0},
{q:"Jak polityka pa≈Ñstwa mo≈ºe wp≈Çywaƒá na rolnictwo?", a:["Przez dotacje i przepisy","Przez d≈Çugo≈õƒá rzek","Przez kszta≈Çt granic","Przez po≈Ço≈ºenie geograficzne"], correct:0},
{q:"Kt√≥re zbo≈ºe jest przyk≈Çadem zbo≈ºa uprawnego?", a:["Pszenica","Bawe≈Çna","Rzepak","S≈Çonecznik"], correct:0},
{q:"Kt√≥ra ro≈õlina jest zbo≈ºem?", a:["Jƒôczmie≈Ñ","Soja","Burak cukrowy","Ziemniak"], correct:0},
{q:"Kt√≥ry kraj hoduje najwiƒôcej byd≈Ça?", a:["Brazylia","Egipt","Islandia","Norwegia"], correct:0},
{q:"Kt√≥re pa≈Ñstwo rozwija hodowlƒô byd≈Ça na du≈ºƒÖ skalƒô?", a:["USA","W≈Çochy","Hiszpania","Szwecja"], correct:0},
{q:"W jaki spos√≥b las pe≈Çni funkcjƒô przeciwerozyjnƒÖ?", a:["Korzenie drzew zatrzymujƒÖ glebƒô","Drewno szybciej ro≈õnie","Zwierzƒôta mieszkajƒÖ w lesie","Li≈õcie sƒÖ zielone"], correct:0},
{q:"Kt√≥ry kraj ma ponad 50% powierzchni zalesionej?", a:["Finlandia","Holandia","Egipt","Szwajcaria"], correct:0},
{q:"W kt√≥rym kraju ponad po≈Çowa powierzchni to lasy?", a:["Szwecja","Arabia Saudyjska","Libia","Mongolia"], correct:0},
{q:"Czym r√≥≈ºni siƒô ch√≥w od hodowli?", a:["Hodowla obejmuje ulepszanie cech zwierzƒÖt, ch√≥w to tylko opieka","Ch√≥w jest gorszƒÖ formƒÖ hodowli","Ch√≥w dotyczy tylko ryb","Hodowla dotyczy tylko drobiu"], correct:0},
{q:"Co oznacza intensywny typ rolnictwa?", a:["Wysokie nak≈Çady i du≈ºa produkcja","Ma≈Çe nak≈Çady i niska produkcja","Brak nawo≈ºenia","Uprawƒô tylko zb√≥≈º"], correct:0},
{q:"Co oznacza ekstensywny typ rolnictwa?", a:["Ma≈Çe nak≈Çady i niska produkcja","Du≈ºe nak≈Çady i du≈ºa produkcja","Stosowanie wielu nawoz√≥w","Ma≈Çe pola"], correct:0},
{q:"Kt√≥ry czynnik wp≈Çywa na hodowlƒô zwierzƒÖt?", a:["Dostƒôp do pasz","Kolor budynk√≥w rolnika","Liczba sklep√≥w","Poziom urbanizacji"], correct:0},
{q:"Kt√≥re zwierzƒô nale≈ºy do zwierzƒÖt hodowlanych?", a:["Krowa","Tygrys","Lis rudy","Pingwin"], correct:0},
{q:"Co pozyskuje siƒô z owcy?", a:["We≈Çnƒô","Wƒôgiel","Bawe≈Çnƒô","Piasek"], correct:0},
{q:"Jaka jest funkcja lasu?", a:["Produkcja drewna","Powstawanie kopal≈Ñ","Tworzenie pusty≈Ñ","Budowa autostrad"], correct:0},
{q:"Jaki jest poziom lesisto≈õci w Polsce?", a:["Oko≈Ço 30%","Oko≈Ço 5%","Oko≈Ço 60%","Oko≈Ço 80%"], correct:0},
{q:"Gdzie znajduje siƒô najwiƒôkszy obszar le≈õny na Ziemi?", a:["W Amazonii","Na Saharze","W Arktyce","Na pustyni Gobi"], correct:0},
{q:"Co oznacza pojƒôcie deforestacja?", a:["Wylesianie","Zalesianie","Sadzenie drzew","Tworzenie park√≥w"], correct:0}
];

// ===================== ZMIENNE =======================
let dawid108 = localStorage.getItem("dawid108") || 0;
let lives, currentIndex, shuffled, correctCount;
const questionEl = document.getElementById("question");
const answersEl = document.getElementById("answers");
const progressEl = document.getElementById("progress");
const livesEl = document.getElementById("lives");
const resultEl = document.getElementById("result");
const restartBtn = document.getElementById("restart");

// ===================== FUNKCJE =======================
function shuffleArray(array) {
    return array.sort(() => Math.random() - 0.5);
}

function startGame() {
    lives = 3;
    correctCount = 0;
    currentIndex = 0;
    shuffled = shuffleArray([...questions]);
    resultEl.textContent = "";
    restartBtn.style.display = "none";
    showQuestion();
}

function showQuestion() {
    if (currentIndex >= shuffled.length) {
        resultEl.textContent = "üéâ Wygra≈Çe≈õ!";
        restartBtn.style.display = "inline-block";
        questionEl.textContent = "";
        answersEl.innerHTML = "";
        progressEl.textContent = "";
        livesEl.textContent = "";
        return;
    }

    const q = shuffled[currentIndex];
    questionEl.textContent = q.q;

    // ==== LOSOWANIE ODPOWIEDZI ====
    let answerOptions = q.a.map((text, index) => ({ text, index }));
    answerOptions = shuffleArray(answerOptions);

    answersEl.innerHTML = "";
    answerOptions.forEach(ans => {
        const btn = document.createElement("button");
        btn.textContent = ans.text;
        btn.onclick = () => checkAnswer(ans.index, q.correct);
        answersEl.appendChild(btn);
    });

    progressEl.textContent = `Pytanie ${currentIndex + 1} / ${shuffled.length}`;
    livesEl.textContent = `≈ªycia: ${"‚ù§Ô∏è".repeat(lives)}`;
}

function checkAnswer(selected, correctIndex) {
    const q = shuffled[currentIndex];
    if (selected === correctIndex) {
        currentIndex++;
        dawid108++;
        localStorage.setItem("dawid108", dawid108);
        console.log("dawid108:", dawid108);
        showQuestion();
    } else {
        lives--;
        livesEl.textContent = `≈ªycia: ${"‚ù§Ô∏è".repeat(lives)}`;
        const correctAnswer = q.a[correctIndex];
        questionEl.innerHTML = `‚ùå Z≈Ça odpowied≈∫!<br><br>‚úÖ Poprawna to: <strong>${correctAnswer}</strong>`;
        answersEl.innerHTML = "";
        if (lives <= 0) {
            setTimeout(gameOver, 3000);
        } else {
            setTimeout(() => {
                currentIndex++;
                dawid108++;
                localStorage.setItem("dawid108", dawid108);
                console.log("dawid108:", dawid108);
                showQuestion();
            }, 3000);
        }
    }
}

function gameOver() {
    resultEl.textContent = "üíÄ Przegra≈Çe≈õ!";
    questionEl.textContent = "";
    answersEl.innerHTML = "";
    progressEl.textContent = "";
    livesEl.textContent = "";
    restartBtn.style.display = "inline-block";
}

// ===================== RESTART =======================
restartBtn.onclick = startGame;

// ===================== START PIERWSZY =======================
startGame();
</script>
</body>
</html>
